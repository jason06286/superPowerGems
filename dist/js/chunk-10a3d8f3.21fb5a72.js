(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10a3d8f3"],{"2d24":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("7a23");function n(){return Object(a["m"])("$swal")}},"4b72":function(e,t,r){"use strict";r("7919")},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,c=r("1dde"),i=c("filter");a({target:"Array",proto:!0,forced:!i},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5d10":function(e,t,r){"use strict";var a=r("7a23"),n=Object(a["U"])("data-v-a6b73326");Object(a["z"])("data-v-a6b73326");var c=Object(a["i"])("section",null,[Object(a["i"])("div",{class:"loader"})],-1);Object(a["x"])();var i=n((function(e,t,r,i,o,s){var l=Object(a["F"])("Loading");return Object(a["w"])(),Object(a["e"])(l,{active:i.attrs.isLoading,"background-color":"black"},{default:n((function(){return[c]})),_:1},8,["active"])})),o={setup:function(e,t){var r=t.attrs;return{attrs:r}}};r("4b72");o.render=i,o.__scopeId="data-v-a6b73326";t["a"]=o},7919:function(e,t,r){},"7dd8":function(e,t,r){"use strict";r.r(t);r("b64b"),r("b0c0");var a=r("7a23"),n=Object(a["U"])("data-v-60c30bdf");Object(a["z"])("data-v-60c30bdf");var c={class:"my-2"},i=Object(a["i"])("h4",{class:"pb-3 mb-3 fw-bold border-bottom border-3 border-darkred"}," 訂單列表 ",-1),o={class:"accordion",id:"accordionExample"},s={key:0,class:"accordion-body"},l={class:"d-flex justify-content-between"},b={class:"fw-bold"},d=Object(a["h"])(" 訂單時間: "),u={class:"mx-1"},p={key:0,class:"text-success"},O={key:1,class:"text-secondary"},j={class:"row"},f={class:"col-lg-6 col-12"},m={class:"p-4"},g=Object(a["i"])("h5",{class:"pb-2 border-2 border-bottom border-darkred"}," 訂單內容 ",-1),v={class:"text-end"},h=Object(a["h"])(" 總金額:"),y={class:"m-2"},w=Object(a["h"])("元 "),k={class:"col-lg-6 col-12"},x={class:"mb-3 form-group"},P=Object(a["i"])("label",{for:"name",class:"mb-2"},"Name *",-1),_={class:"mb-3 form-group"},V=Object(a["i"])("label",{for:"email",class:"mb-2"},"Email *",-1),C={class:"mb-3 form-group"},D=Object(a["i"])("label",{for:"tel",class:"mb-2"},"Phone *",-1),F={class:"mb-3 form-group"},I=Object(a["i"])("label",{for:"address",class:"mb-2"},"Address *",-1),N={class:"d-flex justify-content-end w-100"},L={class:"mt-5 d-flex justify-content-center"};Object(a["x"])();var B=n((function(e,t,r,B,E,U){var R=Object(a["F"])("BaseLoading"),A=Object(a["F"])("Field"),S=Object(a["F"])("ErrorMessage"),q=Object(a["F"])("Form"),J=Object(a["F"])("BasePagination");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(R,{isLoading:e.isLoading},null,8,["isLoading"]),Object(a["i"])("div",c,[i,Object(a["i"])("div",o,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(B.orders.arr,(function(r){return Object(a["w"])(),Object(a["e"])("div",{class:"accordion-item",key:r.id},[Object(a["i"])("h2",{class:"accordion-header",id:"".concat(r.id,"6")},[Object(a["i"])("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#".concat(r.id),"aria-expanded":"false","aria-controls":r.id,onClick:function(t){return e.tempOrder.obj=JSON.parse(JSON.stringify(r))}}," 訂單編號:"+Object(a["I"])(r.id),9,["data-bs-target","aria-controls","onClick"])],8,["id"]),Object(a["i"])("div",{id:r.id,class:"accordion-collapse collapse","aria-labelledby":"".concat(r.id,"6"),"data-bs-parent":"#accordionExample"},[0!=Object.keys(e.tempOrder.obj).length&&e.tempOrder.obj.id===r.id?(Object(a["w"])(),Object(a["e"])("div",s,[Object(a["i"])("div",l,[Object(a["i"])("h4",b,[d,Object(a["i"])("span",u,Object(a["I"])(B.formatDate(e.tempOrder.obj.create_at)),1)]),e.tempOrder.obj.is_paid?(Object(a["w"])(),Object(a["e"])("h4",p,"已付款")):(Object(a["w"])(),Object(a["e"])("h4",O,"未付款"))]),Object(a["i"])("div",j,[Object(a["i"])("div",f,[Object(a["i"])("div",m,[g,(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(e.tempOrder.obj.products,(function(e){return Object(a["w"])(),Object(a["e"])("p",{class:"pb-2 mb-2 border-bottom border-gray",key:e.id},Object(a["I"])(e.product.title)+"/"+Object(a["I"])(e.qty)+Object(a["I"])(e.product.unit),1)})),128)),Object(a["i"])("h5",v,[h,Object(a["i"])("span",y,Object(a["I"])(B.currency(e.tempOrder.obj.total)),1),w])])]),Object(a["i"])("div",k,[Object(a["i"])(q,null,{default:n((function(n){var c=n.errors;return[Object(a["i"])("div",x,[P,Object(a["i"])(A,{id:"name",name:"name",type:"text",class:["form-control",{"is-invalid":c["name"]}],placeholder:"請輸入 name",rules:"required",modelValue:e.tempOrder.obj.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tempOrder.obj.user.name=t})},null,8,["class","modelValue"]),Object(a["i"])(S,{name:"name",class:"invalid-feedback"})]),Object(a["i"])("div",_,[V,Object(a["i"])(A,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":c["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:e.tempOrder.obj.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.tempOrder.obj.user.email=t})},null,8,["class","modelValue"]),Object(a["i"])(S,{name:"email",class:"invalid-feedback"})]),Object(a["i"])("div",C,[D,Object(a["i"])(A,{id:"tel",name:"tel",type:"tel",class:["form-control",{"is-invalid":c["tel"]}],placeholder:"請輸入 tel",rules:B.isPhone,modelValue:e.tempOrder.obj.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.tempOrder.obj.user.tel=t})},null,8,["class","rules","modelValue"]),Object(a["i"])(S,{name:"tel",class:"invalid-feedback"})]),Object(a["i"])("div",F,[I,Object(a["i"])(A,{id:"address",name:"address",type:"text",class:["form-control",{"is-invalid":c["address"]}],placeholder:"請輸入 address",rules:"required",modelValue:e.tempOrder.obj.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.tempOrder.obj.user.address=t})},null,8,["class","modelValue"]),Object(a["i"])(S,{name:"address",class:"invalid-feedback"})]),Object(a["i"])("div",N,[Object(a["i"])("button",{class:"btn btn-outline-title me-3",type:"button",onClick:t[5]||(t[5]=function(){return e.editOrder&&e.editOrder.apply(e,arguments)})}," 修改客戶資料 "),Object(a["i"])("button",{class:"btn btn-outline-darkred",type:"button",onClick:function(t){return e.delOrder(r.id)}}," 刪除訂單 ",8,["onClick"])])]})),_:2},1024)])])])):Object(a["f"])("",!0)],8,["id","aria-labelledby"])])})),128))]),Object(a["i"])("div",L,[Object(a["i"])(J,{pagination:B.pagination,onGetNowpage:e.getOrders},null,8,["pagination","onGetNowpage"])])])],64)})),E=r("5530"),U=r("1da1"),R=(r("96cf"),r("dd87")),A=r("5d10"),S=r("4ec3"),q=r("2d24"),J=r("1336"),z={components:{BasePagination:R["a"],BaseLoading:A["a"]},setup:function(){var e=Object(a["A"])({arr:[]}),t=Object(a["A"])({obj:{}}),r=Object(q["a"])();function n(e,t){r.fire({icon:"success",title:e,text:t,background:"#262833",confirmButtonColor:"#98142b"})}function c(e,t){r.fire({icon:"error",title:e,text:t,background:"#262833",confirmButtonColor:"#98142b"})}function i(){var r=Object(a["A"])({obj:{}}),i=Object(a["B"])(!1);function o(){return s.apply(this,arguments)}function s(){return s=Object(U["a"])(regeneratorRuntime.mark((function r(){var a,n,o=arguments;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:1,i.value=!0,r.prev=2,r.next=5,Object(S["k"])(a);case 5:n=r.sent,n.data.success?(e.arr=n.data.orders,t.obj=n.data.pagination,i.value=!1):c("Oops...",n.data.message),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](2),c("Oops...","取得訂單資料錯誤");case 12:case"end":return r.stop()}}),r,null,[[2,9]])}))),s.apply(this,arguments)}function l(e){return b.apply(this,arguments)}function b(){return b=Object(U["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S["e"])(t);case 3:r=e.sent,r.data.success?(o(),n("刪除訂單","刪除訂單成功!")):c("Oops...",r.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),c("Oops...","刪除訂單錯誤");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),b.apply(this,arguments)}function d(){return u.apply(this,arguments)}function u(){return u=Object(U["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S["h"])(r.obj.id,{data:Object(E["a"])({},r.obj)});case 3:t=e.sent,t.data.success?(o(),n("修改訂單","修改訂單成功!")):c("Oops...",t.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),c("Oops...","修改訂單錯誤");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),u.apply(this,arguments)}return Object(a["t"])((function(){o()})),{tempOrder:r,isLoading:i,getOrders:o,delOrder:l,editOrder:d}}function o(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}return Object(E["a"])({orders:e,pagination:t,currency:J["a"],formatDate:J["b"],isPhone:o},i())}};z.render=B,z.__scopeId="data-v-60c30bdf";t["default"]=z},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,c=Function.prototype,i=c.toString,o=/^\s*function ([^ (]*)/,s="name";a&&!(s in c)&&n(c,s,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),c=r("df75"),i=r("d039"),o=i((function(){c(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(e){return c(n(e))}})},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),c=r("56ef"),i=r("fc6a"),o=r("06cf"),s=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=i(e),n=o.f,l=c(a),b={},d=0;while(l.length>d)r=n(a,t=l[d++]),void 0!==r&&s(b,t,r);return b}})},dd87:function(e,t,r){"use strict";var a=r("7a23"),n=Object(a["U"])("data-v-def117e8");Object(a["z"])("data-v-def117e8");var c={"aria-label":"Page navigation example"},i={class:"pagination"},o=Object(a["i"])("span",{"aria-hidden":"true"},"«",-1),s=Object(a["i"])("span",{"aria-hidden":"true"},"»",-1);Object(a["x"])();var l=n((function(e,t,r,n,l,b){return Object(a["w"])(),Object(a["e"])("nav",c,[Object(a["i"])("ul",i,[Object(a["i"])("li",{class:["page-item",{disabled:!n.props.pagination.obj.has_pre}]},[Object(a["i"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(a["T"])((function(e){return n.emit("getNowpage",n.props.pagination.obj.current_page-1)}),["prevent"]))},[o])],2),(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["D"])(n.props.pagination.obj.total_pages,(function(e){return Object(a["w"])(),Object(a["e"])("li",{class:["page-item",{active:e===n.props.pagination.obj.current_page}],key:e},[Object(a["i"])("a",{class:"page-link",href:"#",onClick:Object(a["T"])((function(t){return n.emit("getNowpage",e)}),["prevent"])},Object(a["I"])(e),9,["onClick"])],2)})),128)),Object(a["i"])("li",{class:["page-item",{disabled:!n.props.pagination.obj.has_next}]},[Object(a["i"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(a["T"])((function(e){return n.emit("getNowpage",n.props.pagination.obj.current_page+1)}),["prevent"]))},[s])],2)])])})),b={props:{pagination:{type:Object,default:function(){return{}}},getProducts:{type:Function,default:function(){}}},emits:["getNowpage"],setup:function(e,t){var r=t.emit;return{props:e,emit:r}}};b.render=l,b.__scopeId="data-v-def117e8";t["a"]=b},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),c=r("fc6a"),i=r("06cf").f,o=r("83ab"),s=n((function(){i(1)})),l=!o||s;a({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return i(c(e),t)}})}}]);
//# sourceMappingURL=chunk-10a3d8f3.21fb5a72.js.map