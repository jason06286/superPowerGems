(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-356239b0"],{"057f":function(e,t,n){var r=n("fc6a"),a=n("241c").f,c={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==c.call(e)?i(e):a(r(e))}},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),c=n("17c2"),o=n("9112");for(var i in a){var s=r[i],l=s&&s.prototype;if(l&&l.forEach!==c)try{o(l,"forEach",c)}catch(u){l.forEach=c}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,a=n("a640"),c=a("forEach");e.exports=c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"2d24":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7a23");function a(){return Object(r["m"])("$swal")}},"498e":function(e,t,n){},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,c=n("1dde"),o=c("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e4f":function(e,t,n){"use strict";n("498e")},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"5d10":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["U"])("data-v-2067109a");Object(r["z"])("data-v-2067109a");var c=Object(r["i"])("div",{class:"loadingio-spinner-blocks-hghzlg9l8i"},[Object(r["i"])("div",{class:"ldio-cmlvaqhdbw"},[Object(r["i"])("div",{style:{left:"21px",top:"21px","animation-delay":"0s"}}),Object(r["i"])("div",{style:{left:"75px",top:"21px","animation-delay":"0.125s"}}),Object(r["i"])("div",{style:{left:"129px",top:"21px","animation-delay":"0.25s"}}),Object(r["i"])("div",{style:{left:"21px",top:"75px","animation-delay":"0.875s"}}),Object(r["i"])("div",{style:{left:"129px",top:"75px","animation-delay":"0.375s"}}),Object(r["i"])("div",{style:{left:"21px",top:"129px","animation-delay":"0.75s"}}),Object(r["i"])("div",{style:{left:"75px",top:"129px","animation-delay":"0.625s"}}),Object(r["i"])("div",{style:{left:"129px",top:"129px","animation-delay":"0.5s"}})])],-1);Object(r["x"])();var o=a((function(e,t,n,o,i,s){var l=Object(r["F"])("Loading");return Object(r["w"])(),Object(r["e"])(l,{active:o.attrs.isLoading},{default:a((function(){return[c]})),_:1},8,["active"])})),i={setup:function(e,t){var n=t.attrs;return{attrs:n}}};n("4e4f");i.render=o,i.__scopeId="data-v-2067109a";t["a"]=i},"746f":function(e,t,n){var r=n("428f"),a=n("5135"),c=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});a(t,e)||o(t,e,{value:c.f(e)})}},"7dd8":function(e,t,n){"use strict";n.r(t);n("b64b"),n("b0c0");var r=n("7a23"),a=Object(r["U"])("data-v-b9a27180");Object(r["z"])("data-v-b9a27180");var c={class:"my-2"},o=Object(r["i"])("h2",{class:"fw-bold border-bottom border-3 border-orange pb-3 mb-3"}," 訂單列表 ",-1),i={class:"accordion",id:"accordionExample"},s={key:0,class:"accordion-body"},l={class:"d-flex justify-content-between"},u={class:"fw-bold"},d=Object(r["h"])(" 訂單時間: "),b={class:"mx-1"},f={key:0,class:"text-success"},p={key:1,class:"text-secondary"},O={class:"row"},j={class:"col-lg-6 col-12"},m={class:"p-4"},g=Object(r["i"])("h5",{class:"border-bottom border-2 border-orange pb-2 "}," 訂單內容 ",-1),v={class:" text-end"},h=Object(r["h"])(" 總金額:"),y={class:"m-2"},w=Object(r["h"])("元 "),x={class:"col-lg-6 col-12"},k={class:"form-group mb-3"},P=Object(r["i"])("label",{for:"name",class:"mb-2"},"Name *",-1),S={class:"form-group mb-3"},E=Object(r["i"])("label",{for:"email",class:"mb-2"},"Email *",-1),_={class:"form-group mb-3"},N=Object(r["i"])("label",{for:"tel",class:"mb-2"},"Phone *",-1),D={class:"form-group mb-3"},F=Object(r["i"])("label",{for:"address",class:"mb-2"},"Address *",-1),I={class:"d-flex justify-content-end w-100"},V={class:"d-flex justify-content-center mt-5"};Object(r["x"])();var C=a((function(e,t,n,C,L,A){var U=Object(r["F"])("BaseLoading"),J=Object(r["F"])("Field"),T=Object(r["F"])("ErrorMessage"),q=Object(r["F"])("Form"),z=Object(r["F"])("BasePagination");return Object(r["w"])(),Object(r["e"])(r["a"],null,[Object(r["i"])(U,{isLoading:C.isLoading},null,8,["isLoading"]),Object(r["i"])("div",c,[o,Object(r["i"])("div",i,[(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["D"])(C.orders.arr,(function(e){return Object(r["w"])(),Object(r["e"])("div",{class:"accordion-item",key:e.id},[Object(r["i"])("h2",{class:"accordion-header",id:"".concat(e.id,"6")},[Object(r["i"])("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#".concat(e.id),"aria-expanded":"false","aria-controls":e.id,onClick:function(t){return C.tempOrder.obj=JSON.parse(JSON.stringify(e))}}," 訂單編號:"+Object(r["I"])(e.id),9,["data-bs-target","aria-controls","onClick"])],8,["id"]),Object(r["i"])("div",{id:e.id,class:"accordion-collapse collapse","aria-labelledby":"".concat(e.id,"6"),"data-bs-parent":"#accordionExample"},[0!=Object.keys(C.tempOrder.obj).length&&C.tempOrder.obj.id===e.id?(Object(r["w"])(),Object(r["e"])("div",s,[Object(r["i"])("div",l,[Object(r["i"])("h4",u,[d,Object(r["i"])("span",b,Object(r["I"])(C.formatDate(C.tempOrder.obj.create_at)),1)]),C.tempOrder.obj.is_paid?(Object(r["w"])(),Object(r["e"])("h4",f,"已付款")):(Object(r["w"])(),Object(r["e"])("h4",p,"未付款"))]),Object(r["i"])("div",O,[Object(r["i"])("div",j,[Object(r["i"])("div",m,[g,(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["D"])(C.tempOrder.obj.products,(function(e){return Object(r["w"])(),Object(r["e"])("p",{class:"mb-2  border-bottom border-gray pb-2 ",key:e.id},Object(r["I"])(e.product.title)+"/"+Object(r["I"])(e.qty)+Object(r["I"])(e.product.unit),1)})),128)),Object(r["i"])("h5",v,[h,Object(r["i"])("span",y,Object(r["I"])(C.currency(C.tempOrder.obj.total)),1),w])])]),Object(r["i"])("div",x,[Object(r["i"])(q,null,{default:a((function(n){var a=n.errors;return[Object(r["i"])("div",k,[P,Object(r["i"])(J,{id:"name",name:"name",type:"text",class:["form-control",{"is-invalid":a["name"]}],placeholder:"請輸入 name",rules:"required",modelValue:C.tempOrder.obj.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return C.tempOrder.obj.user.name=e})},null,8,["class","modelValue"]),Object(r["i"])(T,{name:"name",class:"invalid-feedback"})]),Object(r["i"])("div",S,[E,Object(r["i"])(J,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:C.tempOrder.obj.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return C.tempOrder.obj.user.email=e})},null,8,["class","modelValue"]),Object(r["i"])(T,{name:"email",class:"invalid-feedback"})]),Object(r["i"])("div",_,[N,Object(r["i"])(J,{id:"tel",name:"tel",type:"tel",class:["form-control",{"is-invalid":a["tel"]}],placeholder:"請輸入 tel",rules:C.isPhone,modelValue:C.tempOrder.obj.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return C.tempOrder.obj.user.tel=e})},null,8,["class","rules","modelValue"]),Object(r["i"])(T,{name:"tel",class:"invalid-feedback"})]),Object(r["i"])("div",D,[F,Object(r["i"])(J,{id:"address",name:"address",type:"text",class:["form-control",{"is-invalid":a["address"]}],placeholder:"請輸入 address",rules:"required",modelValue:C.tempOrder.obj.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return C.tempOrder.obj.user.address=e})},null,8,["class","modelValue"]),Object(r["i"])(T,{name:"address",class:"invalid-feedback"})]),Object(r["i"])("div",I,[Object(r["i"])("button",{class:"btn btn-primary me-3",type:"button",onClick:t[5]||(t[5]=function(){return C.editOrder&&C.editOrder.apply(C,arguments)})}," 修改客戶資料 "),Object(r["i"])("button",{class:"btn btn-danger",type:"button",onClick:function(t){return C.delOrder(e.id)}}," 刪除訂單 ",8,["onClick"])])]})),_:2},1024)])])])):Object(r["f"])("",!0)],8,["id","aria-labelledby"])])})),128))]),Object(r["i"])("div",V,[Object(r["i"])(z,{pagination:C.pagination,onGetNowpage:C.getOrders},null,8,["pagination","onGetNowpage"])])])],64)})),L=n("5530"),A=(n("ac1f"),n("5319"),n("99af"),n("dd87")),U=n("5d10"),J=n("bc3a"),T=n.n(J),q=n("2d24"),z=n("1336"),B={components:{BasePagination:A["a"],BaseLoading:U["a"]},setup:function(){var e=Object(r["A"])({arr:[]}),t=Object(r["A"])({obj:{}}),n=Object(r["A"])({obj:{}}),a=Object(q["a"])(),c=Object(r["B"])(!1);function o(e,t){a.fire({icon:"success",title:e,text:t})}function i(e,t){a.fire({icon:"error",title:e,text:t})}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c.value=!0;var r=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),a="".concat("https://vue3-course-api.hexschool.io/","api/").concat("supergems","/admin/orders?page=").concat(n);T.a.defaults.headers.common.Authorization="".concat(r),T.a.get(a).then((function(n){console.log("produts",n),n.data.success&&(e.arr=n.data.orders,t.obj=n.data.pagination,c.value=!1)})).catch((function(e){console.log(e)}))}function l(){var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("supergems","/admin/orders/all");T.a.delete(e).then((function(e){e.data.success?(s(),o("刪除所有訂單","刪除所有訂單成功!")):i("Oops...",e.data.message),console.log("delete",e)})).catch((function(e){console.log(e)}))}function u(e){var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("supergems","/admin/order/").concat(e);T.a.delete(t).then((function(e){e.data.success?(s(),o("刪除訂單","刪除訂單成功!")):i("Oops...",e.data.message),console.log("delete",e)})).catch((function(e){console.log(e)}))}function d(){var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("supergems","/admin/order/").concat(n.obj.id);T.a.put(e,{data:Object(L["a"])({},n.obj)}).then((function(e){e.data.success?(console.log("edit :>> ",e),s(),o("修改訂單","修改訂單成功!")):i("Oops...",e.data.message),console.log("edit",e)})).catch((function(e){console.log(e)}))}function b(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}return Object(r["t"])((function(){return[s()]})),{orders:e,pagination:t,tempOrder:n,isLoading:c,getOrders:s,delOrder:u,delAllOrder:l,currency:z["a"],formatDate:z["b"],isPhone:b,editOrder:d}}};B.render=C,B.__scopeId="data-v-b9a27180";t["default"]=B},a4d3:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),c=n("d066"),o=n("c430"),i=n("83ab"),s=n("4930"),l=n("fdbf"),u=n("d039"),d=n("5135"),b=n("e8b5"),f=n("861d"),p=n("825a"),O=n("7b0b"),j=n("fc6a"),m=n("c04e"),g=n("5c6c"),v=n("7c73"),h=n("df75"),y=n("241c"),w=n("057f"),x=n("7418"),k=n("06cf"),P=n("9bf2"),S=n("d1e7"),E=n("9112"),_=n("6eeb"),N=n("5692"),D=n("f772"),F=n("d012"),I=n("90e3"),V=n("b622"),C=n("e538"),L=n("746f"),A=n("d44e"),U=n("69f3"),J=n("b727").forEach,T=D("hidden"),q="Symbol",z="prototype",B=V("toPrimitive"),$=U.set,G=U.getterFor(q),M=Object[z],Q=a.Symbol,W=c("JSON","stringify"),H=k.f,K=P.f,R=w.f,X=S.f,Y=N("symbols"),Z=N("op-symbols"),ee=N("string-to-symbol-registry"),te=N("symbol-to-string-registry"),ne=N("wks"),re=a.QObject,ae=!re||!re[z]||!re[z].findChild,ce=i&&u((function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=H(M,t);r&&delete M[t],K(e,t,n),r&&e!==M&&K(M,t,r)}:K,oe=function(e,t){var n=Y[e]=v(Q[z]);return $(n,{type:q,tag:e,description:t}),i||(n.description=t),n},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Q},se=function(e,t,n){e===M&&se(Z,t,n),p(e);var r=m(t,!0);return p(n),d(Y,r)?(n.enumerable?(d(e,T)&&e[T][r]&&(e[T][r]=!1),n=v(n,{enumerable:g(0,!1)})):(d(e,T)||K(e,T,g(1,{})),e[T][r]=!0),ce(e,r,n)):K(e,r,n)},le=function(e,t){p(e);var n=j(t),r=h(n).concat(pe(n));return J(r,(function(t){i&&!de.call(n,t)||se(e,t,n[t])})),e},ue=function(e,t){return void 0===t?v(e):le(v(e),t)},de=function(e){var t=m(e,!0),n=X.call(this,t);return!(this===M&&d(Y,t)&&!d(Z,t))&&(!(n||!d(this,t)||!d(Y,t)||d(this,T)&&this[T][t])||n)},be=function(e,t){var n=j(e),r=m(t,!0);if(n!==M||!d(Y,r)||d(Z,r)){var a=H(n,r);return!a||!d(Y,r)||d(n,T)&&n[T][r]||(a.enumerable=!0),a}},fe=function(e){var t=R(j(e)),n=[];return J(t,(function(e){d(Y,e)||d(F,e)||n.push(e)})),n},pe=function(e){var t=e===M,n=R(t?Z:j(e)),r=[];return J(n,(function(e){!d(Y,e)||t&&!d(M,e)||r.push(Y[e])})),r};if(s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===M&&n.call(Z,e),d(this,T)&&d(this[T],t)&&(this[T][t]=!1),ce(this,t,g(1,e))};return i&&ae&&ce(M,t,{configurable:!0,set:n}),oe(t,e)},_(Q[z],"toString",(function(){return G(this).tag})),_(Q,"withoutSetter",(function(e){return oe(I(e),e)})),S.f=de,P.f=se,k.f=be,y.f=w.f=fe,x.f=pe,C.f=function(e){return oe(V(e),e)},i&&(K(Q[z],"description",{configurable:!0,get:function(){return G(this).description}}),o||_(M,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),J(h(ne),(function(e){L(e)})),r({target:q,stat:!0,forced:!s},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var n=Q(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!i},{create:ue,defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:be}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(O(e))}}),W){var Oe=!s||u((function(){var e=Q();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))}));r({target:"JSON",stat:!0,forced:Oe},{stringify:function(e,t,n){var r,a=[e],c=1;while(arguments.length>c)a.push(arguments[c++]);if(r=t,(f(t)||void 0!==e)&&!ie(e))return b(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),a[1]=t,W.apply(null,a)}})}Q[z][B]||E(Q[z],B,Q[z].valueOf),A(Q,q),F[T]=!0},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,c=Function.prototype,o=c.toString,i=/^\s*function ([^ (]*)/,s="name";r&&!(s in c)&&a(c,s,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},b64b:function(e,t,n){var r=n("23e7"),a=n("7b0b"),c=n("df75"),o=n("d039"),i=o((function(){c(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return c(a(e))}})},b6a3:function(e,t,n){"use strict";n("f6b5")},b727:function(e,t,n){var r=n("0366"),a=n("44ad"),c=n("7b0b"),o=n("50c4"),i=n("65f0"),s=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,b=7==e,f=5==e||d;return function(p,O,j,m){for(var g,v,h=c(p),y=a(h),w=r(O,j,3),x=o(y.length),k=0,P=m||i,S=t?P(p,x):n||b?P(p,0):void 0;x>k;k++)if((f||k in y)&&(g=y[k],v=w(g,k,h),e))if(t)S[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:s.call(S,g)}else switch(e){case 4:return!1;case 7:s.call(S,g)}return d?-1:l||u?u:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),c=n("56ef"),o=n("fc6a"),i=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),a=i.f,l=c(r),u={},d=0;while(l.length>d)n=a(r,t=l[d++]),void 0!==n&&s(u,t,n);return u}})},dd87:function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["U"])("data-v-da1e67ce");Object(r["z"])("data-v-da1e67ce");var c={"aria-label":"Page navigation example"},o={class:"pagination"},i=Object(r["i"])("span",{"aria-hidden":"true"},"«",-1),s=Object(r["i"])("span",{"aria-hidden":"true"},"»",-1);Object(r["x"])();var l=a((function(e,t,n,a,l,u){return Object(r["w"])(),Object(r["e"])("nav",c,[Object(r["i"])("ul",o,[Object(r["i"])("li",{class:["page-item",{disabled:!a.props.pagination.obj.has_pre}]},[Object(r["i"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(r["T"])((function(e){return a.emit("getNowpage",a.props.pagination.obj.current_page-1)}),["prevent"]))},[i])],2),(Object(r["w"])(!0),Object(r["e"])(r["a"],null,Object(r["D"])(a.props.pagination.obj.total_pages,(function(e){return Object(r["w"])(),Object(r["e"])("li",{class:["page-item",{active:e===a.props.pagination.obj.current_page}],key:e},[Object(r["i"])("a",{class:"page-link",href:"#",onClick:Object(r["T"])((function(t){return a.emit("getNowpage",e)}),["prevent"])},Object(r["I"])(e),9,["onClick"])],2)})),128)),Object(r["i"])("li",{class:["page-item",{disabled:!a.props.pagination.obj.has_next}]},[Object(r["i"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[2]||(t[2]=Object(r["T"])((function(e){return a.emit("getNowpage",a.props.pagination.obj.current_page+1)}),["prevent"]))},[s])],2)])])})),u={props:{pagination:{type:Object,default:function(){return{}}},getProducts:{type:Function,default:function(){}}},setup:function(e,t){var n=t.emit;return Object(r["t"])((function(){console.log(e.pagination),console.log(e.getProducts)})),{props:e,emit:n}}};n("b6a3");u.render=l,u.__scopeId="data-v-da1e67ce";t["a"]=u},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),c=n("fc6a"),o=n("06cf").f,i=n("83ab"),s=a((function(){o(1)})),l=!i||s;r({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(c(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},f6b5:function(e,t,n){}}]);
//# sourceMappingURL=chunk-356239b0.84a41ad3.js.map